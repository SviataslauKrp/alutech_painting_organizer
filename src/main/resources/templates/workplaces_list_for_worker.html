<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>All Workplaces</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <style>
        .table-bordered {
            border: 2px solid #dee2e6;
            border-radius: .25rem;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h1 class="text-center mb-4">All Workplaces</h1>
        </div>
    </div>
    <div class="row">
        <div th:each="workplace, i : ${allWorkplaces}" class="col-md-6 my-4">
            <h2 class="text-center mb-4" th:text="${workplace.name}"></h2>
            <table class="table table-striped table-hover mx-auto table-bordered"
                   th:classappend="${i.index > 0} ? 'mt-4' : ''">
                <thead>
                <tr>
                    <th>Surname</th>
                    <th>Master</th>
                    <th>Profession</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="worker : ${workplace.workers}"
                    th:class="${worker.getId() == principal.getId} ? 'table-warning' : ''">
                    <td th:text="${worker.surname}"></td>
                    <td th:text="${worker.master.surname}"></td>
                    <td th:text="${worker.profession}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<form th:action="@{/logout}" method="post">
    <div class="text-center mt-2">
        <button class="btn btn-danger btn-block w-50" type="submit">Logout</button>
    </div>
</form>
<form th:action="@{/registration/reset_password}" method="get">
    <div class="text-center mt-2">
        <button class="btn btn-primary btn-block w-50" type="submit">Change password</button>
    </div>
</form>
</body>
</html>
